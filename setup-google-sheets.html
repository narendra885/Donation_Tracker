<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Sheets Setup Guide</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
        .step { margin: 20px 0; padding: 15px; border-left: 4px solid #007bff; background: #f8f9fa; }
        .code-block { background: #f4f4f4; padding: 10px; border-radius: 4px; font-family: monospace; white-space: pre-wrap; }
        .important { background: #fff3cd; border-color: #ffc107; padding: 10px; border-radius: 4px; }
        .success { background: #d4edda; border-color: #28a745; padding: 10px; border-radius: 4px; }
        button { padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; margin: 5px; }
        .btn-success { background: #28a745; }
        .btn-warning { background: #ffc107; color: black; }
    </style>
</head>
<body>
    <h1>üîß Fix Data Persistence Issue</h1>
    
    <div class="important">
        <h3>Current Problem:</h3>
        <p>‚úÖ Your site is live at: <a href="https://narendra885.github.io/Donation_Tracker" target="_blank">https://narendra885.github.io/Donation_Tracker</a></p>
        <p>‚ùå Data disappears after refresh (stored in browser memory only)</p>
        <p>‚ùå Not connected to Google Sheets yet</p>
    </div>

    <div class="step">
        <h3>Step 1: Deploy Google Apps Script (5 minutes)</h3>
        <ol>
            <li>Go to <a href="https://script.google.com" target="_blank">script.google.com</a></li>
            <li>Click <strong>"New Project"</strong></li>
            <li>Delete the default code</li>
            <li>Copy the code from your <code>google-apps-script/Code.gs</code> file</li>
            <li>Click <strong>Deploy ‚Üí New Deployment</strong></li>
            <li>Choose <strong>"Web app"</strong></li>
            <li>Set <strong>Execute as</strong>: "Me"</li>
            <li>Set <strong>Who has access</strong>: "Anyone"</li>
            <li>Click <strong>Deploy</strong></li>
            <li><strong>Copy the Web App URL</strong> (it looks like: https://script.google.com/macros/s/ABC123.../exec)</li>
        </ol>
    </div>

    <div class="step">
        <h3>Step 2: Update Your Config File</h3>
        <p>Replace the content of <code>js/config.js</code> with:</p>
        <div class="code-block">const CONFIG = {
    APPS_SCRIPT_URL: 'PASTE_YOUR_WEB_APP_URL_HERE',
    DEMO_MODE: false,  // Changed to false for production
    APP_NAME: 'Donation Tracker',
    VERSION: '1.0.0',
    DEFAULT_YEAR: new Date().getFullYear(),
    MOBILE_REGEX: /^\d{10}$/,
    DEBUG: true
};</div>
    </div>

    <div class="step">
        <h3>Step 3: Push Changes to GitHub</h3>
        <div class="code-block">git add .
git commit -m "Connect to Google Sheets - Enable data persistence"
git push origin main</div>
        <p>GitHub Pages will automatically redeploy in 2-3 minutes</p>
    </div>

    <div class="success">
        <h3>‚úÖ After Setup:</h3>
        <ul>
            <li>Data will be saved to Google Sheets permanently</li>
            <li>Data will persist after browser refresh</li>
            <li>Multiple users can access the same data</li>
            <li>You can view/edit data directly in Google Sheets</li>
        </ul>
    </div>

    <div class="step">
        <h3>üöÄ Quick Test Commands</h3>
        <button onclick="testCurrentSetup()">Test Current Setup</button>
        <button onclick="showGoogleSheets()" class="btn-success">Open Your Google Sheets</button>
        <button onclick="showLiveSite()" class="btn-warning">Open Live Site</button>
        
        <div id="testResults" style="margin-top: 20px;"></div>
    </div>

    <script>
        function testCurrentSetup() {
            const results = document.getElementById('testResults');
            results.innerHTML = `
                <div class="important">
                    <h4>Current Configuration:</h4>
                    <p><strong>Google Sheets ID:</strong> 1-mYbsZ3CdevtXT1A3_mndUpUZoJ50h8riwDuRlaWcMA</p>
                    <p><strong>Demo Mode:</strong> Currently enabled (that's why data doesn't persist)</p>
                    <p><strong>Status:</strong> Need to deploy Google Apps Script to fix persistence</p>
                </div>
            `;
        }

        function showGoogleSheets() {
            window.open('https://docs.google.com/spreadsheets/d/1-mYbsZ3CdevtXT1A3_mndUpUZoJ50h8riwDuRlaWcMA/edit', '_blank');
        }

        function showLiveSite() {
            window.open('https://narendra885.github.io/Donation_Tracker', '_blank');
        }
    </script>

    <div class="step">
        <h3>üìû Support</h3>
        <p>If you need help with any step, the main issue is that your app is in "demo mode" which only stores data temporarily in the browser. Once you connect it to Google Sheets using the steps above, all data will be permanently saved.</p>
    </div>
</body>
</html>
